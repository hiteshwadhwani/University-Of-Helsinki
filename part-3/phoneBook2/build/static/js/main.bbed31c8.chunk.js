(this["webpackJsonpexercise2.6"]=this["webpackJsonpexercise2.6"]||[]).push([[0],{41:function(e,n,t){},42:function(e,n,t){"use strict";t.r(n);var c=t(16),u=t.n(c),a=t(7),r=t(3),o=t(2),s=t(4),i=t.n(s),l="/api/persons",d=function(){return i.a.get(l).then((function(e){return e.data}))},j=function(e){return i.a.post(l,e).then((function(e){return e.data}))},f=function(e,n){return i.a.put("".concat(l,"/").concat(e),n).then((function(e){return e.data}))},b=function(e){i.a.delete("".concat(l,"/").concat(e))},h=t(0),m=function(e){var n=e.name,t=e.newValue,c=e.handleNewValue;return Object(h.jsxs)("div",{children:[n,": ",Object(h.jsx)("input",{value:t,onChange:c})]})},O=function(e){var n=e.addPersons,t=e.newName,c=e.newNumber,u=e.handleNewName,a=e.handleNewNumber;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("form",{onSubmit:n,children:[Object(h.jsx)(m,{name:"name",newValue:t,handleNewValue:u}),Object(h.jsx)(m,{name:"Number",newValue:c,handleNewValue:a}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{type:"submit",children:"add"})})]})})},w=function(e){var n=e.person,t=e.DeletePerson;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("h3",{children:[n.name," ",n.number]}),Object(h.jsx)("button",{onClick:function(){return t(n.id)},children:"Delete"})]})},v=function(e){var n=e.search,t=e.handleSearch;return Object(h.jsxs)("div",{children:["Search: ",Object(h.jsx)("input",{value:n,onChange:t})]})},x=(t(41),function(e){var n=e.message;return null===n?null:Object(h.jsx)("div",{className:"message",children:n})}),p=function(){var e=Object(o.useState)([]),n=Object(r.a)(e,2),t=n[0],c=n[1],u=Object(o.useState)(""),s=Object(r.a)(u,2),i=s[0],l=s[1],m=Object(o.useState)(""),p=Object(r.a)(m,2),g=p[0],N=p[1],y=Object(o.useState)(""),S=Object(r.a)(y,2),D=S[0],V=S[1],k=Object(o.useState)(null),C=Object(r.a)(k,2),P=C[0],T=C[1];Object(o.useEffect)((function(){d().then((function(e){c(e)}))}),[]);var B=""===D?t:t.filter((function(e){return e.name.toLowerCase().includes(D.toLowerCase())})),E=function(e){try{var n=e.match(/[0-9]+/g).join(""),t=n.length,c=n.substring(0,t-10);if(t>=8&&t<=16)return!c||!![93,355,213,1684,376,244,1264,672,1268,54,374,297,61,43,994,1242,973,880,1246,375,32,501,229,1441,975,591,387,267,55,246,1284,673,359,226,257,855,237,1,238,1345,236,235,56,86,61,61,57,269,682,506,385,53,599,357,420,243,45,253,1767,1809,1829,1849,670,593,20,503,240,291,372,251,500,298,679,358,33,689,241,220,995,49,233,350,30,299,1473,1671,502,441481,224,245,592,509,504,852,36,354,91,62,98,964,353,441624,972,39,225,1876,81,441534,962,7,254,686,383,965,996,856,371,961,266,231,218,423,370,352,853,389,261,265,60,960,223,356,692,222,230,262,52,691,373,377,976,382,1664,212,258,95,264,674,977,31,599,687,64,505,227,234,683,850,1670,47,968,92,680,970,507,675,595,51,63,64,48,351,1787,1939,974,242,262,40,7,250,590,290,1869,1758,590,508,1784,685,378,239,966,221,381,248,232,65,1721,421,386,677,252,27,82,211,34,94,249,597,47,268,46,41,963,886,992,255,66,228,690,676,1868,216,90,993,1649,688,1340,256,380,971,44,1,598,998,678,379,58,84,681,212,967,260,263].includes(parseInt(c))}catch(u){}return!1},F=function(e){var n=t.find((function(n){return n.id===e})).name;window.confirm("Do you really want to remove ".concat(n,"?"))&&(b(e),c(t.filter((function(n){return n.id!==e}))),T("person deleted successfully"),setTimeout((function(){T(null)}),5e3))};return Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"Phonebook"}),Object(h.jsx)(x,{message:P}),Object(h.jsx)(v,{search:D,handleSearch:function(e){V(e.target.value)}}),Object(h.jsx)(O,{addPersons:function(e){var n=t.find((function(e){return e.name===i}));if(e.preventDefault(),n){var u=n.id;if(window.confirm("".concat(n.name," is already added to phoneBook , replace old with new number"))){var r=Object(a.a)(Object(a.a)({},n),{},{number:g});f(u,r).then((function(e){console.log(e),c(t.map((function(n){return n.id!==u?n:e}))),l(""),N(""),T("number updated successfully"),setTimeout((function(){T(null)}),5e3)})).catch((function(e){T(e.message),setTimeout((function(){T(null)}),5e3)}))}}else{if(E(g))j({name:i,number:g}).then((function(e){c(t.concat(e)),l(""),N(""),T("person added successfully"),setTimeout((function(){T(null)}),5e3)})).catch((function(e){T(e.message),setTimeout((function(){T(null)}),5e3)}));else e.preventDefault(),window.alert("".concat(g," does not exist"))}},newName:i,newNumber:g,handleNewName:function(e){l(e.target.value)},handleNewNumber:function(e){N(e.target.value)}}),Object(h.jsx)("h2",{children:"Numbers"}),B.map((function(e,n){return Object(h.jsx)(w,{person:e,DeletePerson:F},n)}))]})};u.a.render(Object(h.jsx)(p,{}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.bbed31c8.chunk.js.map