{"version":3,"sources":["services/person.js","components/personForm.js","components/name.js","components/filter.js","App.js","index.js"],"names":["baseURL","axios","get","then","response","data","newObj","post","id","put","delete","AddPeopleInput","name","newValue","handleNewValue","value","onChange","PersonForm","addPersons","newName","newNumber","handleNewName","handleNewNumber","onSubmit","type","Name","person","DeletePerson","number","onClick","SearchFilter","search","handleSearch","Notification","message","className","App","useState","persons","setPersons","setNewName","setNewNumber","setSearch","setMessage","useEffect","peopleService","showPerson","filter","people","toLowerCase","includes","isPhoneNumber","input","thenum","match","join","totalnums","length","ISDcode","substring","parseInt","e","deletePerson","find","n","window","confirm","setTimeout","target","element","preventDefault","PersonWithNewNumber","console","log","map","catch","error","concat","alert","i","ReactDOM","render","document","getElementById"],"mappings":"uMACMA,EAAU,eAkBD,EAhBA,WAEX,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAACC,GAAD,OAAcA,EAASC,SAchC,EAZA,SAACC,GAEZ,OADgBL,IAAMM,KAAKP,EAAUM,GACtBH,MAAK,SAACC,GAAD,OAAcA,EAASC,SAUhC,EARA,SAACG,EAAKF,GAEjB,OADgBL,IAAMQ,IAAN,UAAaT,EAAb,YAAwBQ,GAAMF,GAC/BH,MAAK,SAACC,GAAD,OAAcA,EAASC,SAMhC,EAJM,SAACG,GAClBP,IAAMS,OAAN,UAAgBV,EAAhB,YAA2BQ,K,OChBzBG,EAAiB,SAAC,GAAwC,IAAtCC,EAAqC,EAArCA,KAAMC,EAA+B,EAA/BA,SAAUC,EAAqB,EAArBA,eACxC,OACE,gCACGF,EADH,KACU,uBAAOG,MAAOF,EAAUG,SAAUF,QAgCjCG,EA5BI,SAAC,GAMb,IALLC,EAKI,EALJA,WACAC,EAII,EAJJA,QACAC,EAGI,EAHJA,UACAC,EAEI,EAFJA,cACAC,EACI,EADJA,gBAEA,OACE,mCACE,uBAAMC,SAAUL,EAAhB,UACE,cAAC,EAAD,CACEN,KAAK,OACLC,SAAUM,EACVL,eAAgBO,IAElB,cAAC,EAAD,CACET,KAAK,SACLC,SAAUO,EACVN,eAAgBQ,IAElB,8BACE,wBAAQE,KAAK,SAAb,yBClBKC,EAVF,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,OAAQC,EAAmB,EAAnBA,aACtB,OACE,qCACE,+BACGD,EAAOd,KADV,IACiBc,EAAOE,UAExB,wBAAQC,QAAS,kBAAMF,EAAaD,EAAOlB,KAA3C,wBCCSsB,EAPM,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,OAAQC,EAAmB,EAAnBA,aAC9B,OACE,2CACU,uBAAOjB,MAAOgB,EAAQf,SAAUgB,QCIxCC,G,MAAe,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACtB,OAAe,OAAZA,EACM,KAEF,qBAAKC,UAAU,UAAf,SAA0BD,MA2KpBE,EAxKH,WACV,MAA8BC,mBAAS,IAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA8BF,mBAAS,IAAvC,mBAAOlB,EAAP,KAAgBqB,EAAhB,KACA,EAAkCH,mBAAS,IAA3C,mBAAOjB,EAAP,KAAkBqB,EAAlB,KACA,EAA4BJ,mBAAS,IAArC,mBAAON,EAAP,KAAeW,EAAf,KACA,EAA8BL,mBAAS,MAAvC,mBAAOH,EAAP,KAAgBS,EAAhB,KAEAC,qBAAU,WAERC,IAAuB1C,MAAK,SAACC,GAC3BmC,EAAWnC,QAEZ,IAEH,IAsEM0C,EACO,KAAXf,EACIO,EACAA,EAAQS,QAAO,SAACC,GAAD,OACbA,EAAOpC,KAAKqC,cAAcC,SAASnB,EAAOkB,kBAE9CE,EAAgB,SAACC,GACnB,IACE,IAqBEC,EAASD,EAAME,MAAM,WAAWC,KAAK,IACrCC,EAAYH,EAAOI,OACnBC,EAAUL,EAAOM,UAAU,EAAGH,EAAY,IAG5C,GAAIA,GAAa,GAAKA,GAAa,GACjC,OAAIE,KA3BU,CACZ,GAAI,IAAK,IAAK,KAAM,IAAK,IAAK,KAAM,IAAK,KAAM,GAAI,IAAK,IAAK,GAAI,GACjE,IAAK,KAAM,IAAK,IAAK,KAAM,IAAK,GAAI,IAAK,IAAK,KAAM,IAAK,IAAK,IAC9D,IAAK,GAAI,IAAK,KAAM,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,IAAK,KAAM,IAChE,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAChE,GAAI,IAAK,KAAM,KAAM,KAAM,KAAM,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAC9D,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,GAC/D,IAAK,KAAM,KAAM,IAAK,OAAQ,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,IAChE,GAAI,GAAI,GAAI,IAAK,IAAK,OAAQ,IAAK,GAAI,IAAK,KAAM,GAAI,OAAQ,IAAK,EACnE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACjE,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,IAC/D,IAAK,IAAK,IAAK,IAAK,KAAM,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAChE,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,KAAM,GAAI,IAAK,GAAI,IAAK,IAAK,IAAK,IAC/D,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,KAAM,KAAM,IAAK,IAAK,IAAK,GAAI,EAAG,IAAK,IACjE,IAAK,KAAM,KAAM,IAAK,IAAK,KAAM,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC/D,IAAK,GAAI,KAAM,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,GAAI,GAAI,IAAK,IAAK,GAClE,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,KAAM,IAAK,GAC/D,IAAK,KAAM,IAAK,KAAM,IAAK,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,IAAK,IAAK,GAChE,GAAI,IAAK,IAAK,IAAK,IAAK,KAUVR,SAASU,SAASF,IASpC,MAAOG,IAET,OAAO,GAEHC,EAAe,SAACtD,GACpB,IACMI,EADS0B,EAAQyB,MAAK,SAACC,GAAD,OAAOA,EAAExD,KAAOA,KACxBI,KAChBqD,OAAOC,QAAP,uCAA+CtD,EAA/C,QACFiC,EAA2BrC,GAE3B+B,EAAWD,EAAQS,QAAO,SAACiB,GAAD,OAAOA,EAAExD,KAAOA,MAC1CmC,EAAW,+BACPwB,YAAW,WACTxB,EAAW,QACV,OAIX,OACE,gCACE,2CACA,cAAC,EAAD,CAAcT,QAASA,IACvB,cAAC,EAAD,CAAcH,OAAQA,EAAQC,aAzEb,SAAC6B,GACpBnB,EAAUmB,EAAEO,OAAOrD,UA0EjB,cAAC,EAAD,CACEG,WAxIa,SAAC2C,GAClB,IAAMnC,EAASY,EAAQyB,MAAK,SAACM,GAAD,OAAaA,EAAQzD,OAASO,KAE1D,GADA0C,EAAES,iBACE5C,EAAQ,CACV,IAAMlB,EAAKkB,EAAOlB,GAClB,GACEyD,OAAOC,QAAP,UACKxC,EAAOd,KADZ,iEAGA,CACA,IAAM2D,EAAmB,2BACpB7C,GADoB,IAEvBE,OAAQR,IAEVyB,EAAqBrC,EAAI+D,GAAqBpE,MAAK,SAACC,GAClDoE,QAAQC,IAAIrE,GACZmC,EACED,EAAQoC,KAAI,SAAChD,GAAD,OAAaA,EAAOlB,KAAOA,EAAKkB,EAAStB,MAEvDoC,EAAW,IACXC,EAAa,IACbE,EAAW,+BACXwB,YAAW,WACTxB,EAAW,QACV,QACFgC,OAAM,SAACC,GACRjC,EAAWiC,EAAM1C,SACjBiC,YAAW,WACTxB,EAAW,QACV,aAGF,CACL,GAAIQ,EAAc/B,GAKhByB,EAJkB,CAChBjC,KAAMO,EACNS,OAAQR,IAEsBjB,MAAK,SAACC,GAEpCmC,EAAWD,EAAQuC,OAAOzE,IAC1BoC,EAAW,IACXC,EAAa,IACbE,EAAW,6BACXwB,YAAW,WACTxB,EAAW,QACV,QAEFgC,OAAM,SAACC,GACRjC,EAAWiC,EAAM1C,SACjBiC,YAAW,WACTxB,EAAW,QACT,aAGNkB,EAAES,iBACFL,OAAOa,MAAP,UAAgB1D,EAAhB,sBAiFAD,QAASA,EACTC,UAAWA,EACXC,cA/IgB,SAACwC,GAErBrB,EAAWqB,EAAEO,OAAOrD,QA8IhBO,gBA7EkB,SAACuC,GACvBpB,EAAaoB,EAAEO,OAAOrD,UA8EpB,yCACC+B,EAAW4B,KAAI,SAAChD,EAAQqD,GAAT,OACd,cAAC,EAAD,CAAcrD,OAAQA,EAAQC,aAAcmC,GAAjCiB,UC3KnBC,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.bbed31c8.chunk.js","sourcesContent":["import axios from \"axios\";\r\nconst baseURL = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseURL);\r\n    return request.then((response) => response.data);\r\n}\r\nconst create = (newObj) => {\r\n    const request = axios.post(baseURL , newObj);\r\n    return request.then((response) => response.data);\r\n}\r\nconst update = (id , newObj) => {\r\n    const request = axios.put(`${baseURL}/${id}`, newObj);\r\n    return request.then((response) => response.data);\r\n}\r\nconst deletePerson = (id) => {\r\n    axios.delete(`${baseURL}/${id}`);\r\n    \r\n}\r\nexport default {\r\n    getAll, create , update , deletePerson\r\n};","const AddPeopleInput = ({ name, newValue, handleNewValue }) => {\r\n  return (\r\n    <div>\r\n      {name}: <input value={newValue} onChange={handleNewValue} />\r\n    </div>\r\n  );\r\n};\r\nconst PersonForm = ({\r\n  addPersons,\r\n  newName,\r\n  newNumber,\r\n  handleNewName,\r\n  handleNewNumber,\r\n}) => {\r\n  return (\r\n    <>\r\n      <form onSubmit={addPersons}>\r\n        <AddPeopleInput\r\n          name=\"name\"\r\n          newValue={newName}\r\n          handleNewValue={handleNewName}\r\n        />\r\n        <AddPeopleInput\r\n          name=\"Number\"\r\n          newValue={newNumber}\r\n          handleNewValue={handleNewNumber}\r\n        />\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","const Name = ({ person, DeletePerson }) => {\r\n  return (\r\n    <>\r\n      <h3>\r\n        {person.name} {person.number}\r\n      </h3>\r\n      <button onClick={() => DeletePerson(person.id)}>Delete</button>\r\n    </>\r\n  );\r\n};\r\nexport default Name;\r\n","const SearchFilter = ({ search, handleSearch }) => {\r\n  return (\r\n    <div>\r\n      Search: <input value={search} onChange={handleSearch} />\r\n    </div>\r\n  );\r\n};\r\nexport default SearchFilter;\r\n","import React, { useState, useEffect } from \"react\";\nimport peopleService from \"./services/person\";\nimport PersonForm from \"./components/personForm\";\nimport Name from \"./components/name\";\nimport SearchFilter from \"./components/filter\";\nimport \"./index.css\";\n\nconst Notification = ({ message }) => {\n  if(message === null){\n    return(null);\n  }\n  return <div className=\"message\">{message}</div>;\n};\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [search, setSearch] = useState(\"\");\n  const [message, setMessage] = useState(null);\n\n  useEffect(() => {\n    // console.log(\"effect\");\n    peopleService.getAll().then((response) => {\n      setPersons(response);\n    });\n  }, []);\n\n  const handleNewName = (e) => {\n    // console.log(e.target.value);\n    setNewName(e.target.value);\n  };\n  const addPersons = (e) => {\n    const person = persons.find((element) => element.name === newName);\n    e.preventDefault();\n    if (person) {\n      const id = person.id;\n      if (\n        window.confirm(\n          `${person.name} is already added to phoneBook , replace old with new number`\n        )\n      ) {\n        const PersonWithNewNumber = {\n          ...person,\n          number: newNumber,\n        };\n        peopleService.update(id, PersonWithNewNumber).then((response) => {\n          console.log(response);\n          setPersons(\n            persons.map((person) => (person.id !== id ? person : response))\n          );\n          setNewName(\"\");\n          setNewNumber(\"\");\n          setMessage(\"number updated successfully\");\n          setTimeout(() => {\n            setMessage(null);\n          }, 5000);\n        }).catch((error) => {\n          setMessage(error.message);\n          setTimeout(() => {\n            setMessage(null);\n          }, 5000);\n        });\n      }\n    } else {\n      if (isPhoneNumber(newNumber)) {\n        const newPerson = {\n          name: newName,\n          number: newNumber,\n        };\n        peopleService.create(newPerson).then((response) => {\n          // console.log(response);\n          setPersons(persons.concat(response));\n          setNewName(\"\");\n          setNewNumber(\"\");\n          setMessage(\"person added successfully\");\n          setTimeout(() => {\n            setMessage(null);\n          }, 5000);\n\n        }).catch((error) => {\n          setMessage(error.message);\n          setTimeout(() => {\n            setMessage(null);\n          } , 5000);\n        });\n      } else {\n        e.preventDefault();\n        window.alert(`${newNumber} does not exist`);\n      }\n    }\n  };\n  const handleSearch = (e) => {\n    setSearch(e.target.value);\n  };\n  const handleNewNumber = (e) => {\n    setNewNumber(e.target.value);\n  };\n  const showPerson =\n    search === \"\"\n      ? persons\n      : persons.filter((people) =>\n          people.name.toLowerCase().includes(search.toLowerCase())\n        );\n  let isPhoneNumber = (input) => {\n    try {\n      let ISD_CODES = [\n          93, 355, 213, 1684, 376, 244, 1264, 672, 1268, 54, 374, 297, 61, 43,\n          994, 1242, 973, 880, 1246, 375, 32, 501, 229, 1441, 975, 591, 387,\n          267, 55, 246, 1284, 673, 359, 226, 257, 855, 237, 1, 238, 1345, 236,\n          235, 56, 86, 61, 61, 57, 269, 682, 506, 385, 53, 599, 357, 420, 243,\n          45, 253, 1767, 1809, 1829, 1849, 670, 593, 20, 503, 240, 291, 372,\n          251, 500, 298, 679, 358, 33, 689, 241, 220, 995, 49, 233, 350, 30,\n          299, 1473, 1671, 502, 441481, 224, 245, 592, 509, 504, 852, 36, 354,\n          91, 62, 98, 964, 353, 441624, 972, 39, 225, 1876, 81, 441534, 962, 7,\n          254, 686, 383, 965, 996, 856, 371, 961, 266, 231, 218, 423, 370, 352,\n          853, 389, 261, 265, 60, 960, 223, 356, 692, 222, 230, 262, 52, 691,\n          373, 377, 976, 382, 1664, 212, 258, 95, 264, 674, 977, 31, 599, 687,\n          64, 505, 227, 234, 683, 850, 1670, 47, 968, 92, 680, 970, 507, 675,\n          595, 51, 63, 64, 48, 351, 1787, 1939, 974, 242, 262, 40, 7, 250, 590,\n          290, 1869, 1758, 590, 508, 1784, 685, 378, 239, 966, 221, 381, 248,\n          232, 65, 1721, 421, 386, 677, 252, 27, 82, 211, 34, 94, 249, 597, 47,\n          268, 46, 41, 963, 886, 992, 255, 66, 228, 690, 676, 1868, 216, 90,\n          993, 1649, 688, 1340, 256, 380, 971, 44, 1, 598, 998, 678, 379, 58,\n          84, 681, 212, 967, 260, 263,\n        ],\n        //extract numbers from string\n        thenum = input.match(/[0-9]+/g).join(\"\"),\n        totalnums = thenum.length,\n        ISDcode = thenum.substring(0, totalnums - 10);\n\n      //phone numbers are generally of 8 to 16 digits\n      if (totalnums >= 8 && totalnums <= 16) {\n        if (ISDcode) {\n          if (ISD_CODES.includes(parseInt(ISDcode))) {\n            return true;\n          } else {\n            return false;\n          }\n        } else {\n          return true;\n        }\n      }\n    } catch (e) {}\n\n    return false;\n  };\n  const deletePerson = (id) => {\n    const person = persons.find((n) => n.id === id);\n    const name = person.name;\n    if (window.confirm(`Do you really want to remove ${name}?`)) {\n      peopleService.deletePerson(id);\n      // console.log(`${name} deleted successfully`);\n      setPersons(persons.filter((n) => n.id !== id));\n      setMessage(\"person deleted successfully\");\n          setTimeout(() => {\n            setMessage(null);\n          }, 5000);\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <SearchFilter search={search} handleSearch={handleSearch} />\n\n      <PersonForm\n        addPersons={addPersons}\n        newName={newName}\n        newNumber={newNumber}\n        handleNewName={handleNewName}\n        handleNewNumber={handleNewNumber}\n      />\n      <h2>Numbers</h2>\n      {showPerson.map((person, i) => (\n        <Name key={i} person={person} DeletePerson={deletePerson} />\n      ))}\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\n\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}